# 大数据领域建模综述

## 1. 为什么需要建模
数据爆发 式增长，如何将这些数据进行**有序、有结构地分类组织和存储**是我们面 临的一个挑战。

数据模型就是数据组织和存储方法，它强调从业务、数据存取和使用的角度合理存储数据。
> 烂程序员关心的是代码，好程序员关心的是数据 结构和它 们之间的关系 —— Linux 的创始人 Torvalds

大数据能从好的数据模型中获得以下好处：
- 性能：良好的数据模型能帮助我们快速查询所需要的数据，减少数据的IO吞吐
- 成本：良好的数据模型能极大的减少不必要的数据冗余，也能实现结果复用，极大的降低大数据系统中的存储和计算成本
- 效率：良好的数据模型能极大地改善用户使用数据的体验，提高 使用数据的效率。
- 质量：良好的数据模型能改善数据统计口径的不一致性，减少数 据计算错误的可能性。

## 2.关系数据库系统和数据仓库
E .F .Codd 是关系数据库的鼻祖，他首次提出了数据库系统的关系模型，开创了数据库关系方法和关系数据理论的研究

和绝大多数现代企业信息系统一样，大量的数据仓库系统依托强大的关系数据库能力存储和处理数据，其采用的数据模型方法也是基于关系数据库理论的

虽然近年来大数据的存储和计算基础设施在分布式方面有了飞速的发展，但仍在大规模的使用SQL进行数据的加工和处理，使用Table存储数据，仍在使用关系理论描述数据之间的关系。
只是在大数据领域，基于其数据存取的特点在关系数据模型的范式上有了不同的选择而已。

## 3. 从OLTP和OLAP系统的区别看模型方法论的选择
OLTP 系统通常面向的主要数据操作是随机读写，主要采用满足 3NF 的实体关系模型存储数据，从而在事务处理中**解决数据的冗余和一致性问题**

而 OLAP 系统面向的主要数据操作是批量读写，事务处理中的一致性不是 OLAP 所关注的，其主要关注数据的整合，以及在一次性的复杂大数据查询和处理中的性能，因此它需要采用一些不同的数据建模方法。

## 4. 典型的数仓建模方法论
### 4.1 ER模型
Bill Inmon提出，从全企业的高度设计一个3NF模型，用实体关系模型描述企业业务，在范式理论上符合3NF。
有以下特点：
- 需要全面了解企业业务和数据
- 实施周期非常长
- 对建模人员的能力要求非常高
> 数据仓库中的 3NF 与 OLTP 系统中的 3NF 的区别在于，它是站在企业角度面向主题的抽象，而不是针对某个具体业务流程的实体对象关系的抽象

采用 ER模型建设数据仓库模型的出发点是整合数据，为数据分析决策服务
- 以整个企业角度按主题就行相似性组合和合并
- 进行一致性处理

建模步骤一般为三个阶段：
- 高层模型：一个高度抽象的模型，描述主要的主题以及主题间的关系，用于描述企业的业务总体概况。
- 中层模型：在高层模型的基础上，细化主题的数据项
- 物理模型（底层模型）：在中层模型的基础上，考虑物理存储，同时基于性能和平台特点进行物理属性的设计，也可能做一
  些表的合并、分区的设计等。

### 4.2 维度模型
维度建模从分析决策的需求出发构建模型，为分析需求服务，因此 它重点关注用户如何更快速地完成需求分析，同时具有较好的大规模复 杂查询的响应性能



## 5. 阿里巴巴数据模型实践综述
### 5.1 第一阶段
ODS+DSS


在不太成熟、快速变化 的业务面前，构建 ER 模型的风险非常大，不太适合去构建 ER 模型。
