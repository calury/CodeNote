


#### 关于视图的使用
行业实例：
- 直播场景中，会有双人pk、多人pk、



#### 关于T+2时效的处理
##### 1. 必要性
**场景：** 直播结束后直播间进入tcs审核队列，直播间审核的兜底方案是第二天24点
- T开播，T+1时部分直播间审核完了，部分还未审核。未审核的部分取打标的结果是，结果为空
- 而T+2时也无法刷新这部分数据（除非建2个任务，在T+2时补刷${date-1}的数据。

也就是说：T+2是因为T+1时数据未准备好，而T+1生成的数据无法在T+2时覆盖更新，因此需要将数据设置为T+2，确保每次更新的数据都是正确的，而无需再次更新

##### 2. 表设计
- 方式1：所有字段都是T+2的，保证表层面的数据一致性。
> 这种方式，只要表有一个字段是T+2的，那么其他字段也得跟着是T+2
- 方式2：除了无法满足时效要求的为T+2，其余的为T+1【这种，貌似解释成本就很高了】

链路：申请 -> 第二天审批完成 -> 


- 方式1： 分区date='${date}'


- 方式2：分区date='${date-1}'

与指标平台的配合
- 生成任务实例




### 关于海量数据的经验

#### 埋点分级改造
背景：埋点数据量级非常庞大，业务经常使用和关注的埋点（高优）站总体埋点存储35%左右。

把高优埋点和低优埋点拆分开计算
- 低优埋点的任务使用混布队列计算，缩短存储的TTL
> TTL（Time To Live / 数据生命周期 / 数据过期时间）
- 节省高优的计算资源，加快数据产出时间，并降低存储成本

比如方案：
- TTL设定：P0 400天，P1 180天，P2 180天
- 数据产出时间：P0、P1

衍生：
- 提供一个埋点事件等级查询的服务
