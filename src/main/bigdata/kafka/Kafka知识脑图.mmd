Mind Map generated by NB MindMap plugin   
> __version__=`1.1`,showJumps=`true`
---

# Kafka

## 概述和特点

### 高吞吐量

## 运行流程

## 存储机制

### 分区

### 分片

#### \.log

#### \.index

## 高效读写机制

### 顺序写

### 零拷贝技术

## API

### 生产

#### 不带回调

#### 带回调

### 消费

#### 维护offset

##### 自动提交

##### 手动提交

###### 同步

###### 异步

#### 自定义存储offset

##### 不涉及rebalance怎么处理

##### 涉及rebalance怎么处理

### 拦截器

#### onSend拦截

#### onAcknowledgement拦截

## 运维

### 监控

### 管理

## 架构组成
> leftSide=`true`


### broker

#### leader

#### follower
> leftSide=`true`


### producer
> leftSide=`true`


#### 分区策略

#### 可靠性保证
> leftSide=`true`


##### 通过ack
> collapsed=`true`


###### ack的发送策略
> collapsed=`true`


####### \-1:all

####### 0
> leftSide=`true`


####### 1
> leftSide=`true`


##### ISR

##### 什么时候会丢数据，什么时候数据会重复

#### exactly once语义

##### Kafka本身是at least once

##### HW

###### High Watermark

##### LEO

###### Log End Offset

### consumer
> leftSide=`true`


#### 消费方式

#### 分区分配策略
> leftSide=`true`


#### offset的维护和读取
> leftSide=`true`


#### 消费者组
> leftSide=`true`


### zookeeper

#### 在kafka中的作用

#### broker中leader的选举流程

## 命令行
> leftSide=`true`


### 启动

### topic
> leftSide=`true`


#### 新增

#### 修改
> leftSide=`true`


##### 修改分区数：只能新增，不能减少

#### 删除
> leftSide=`true`


### 命令行Producer

### 命令行Consumer
> leftSide=`true`

